Лабораторная работа №2

Инсталляция ansible
<img width="764" alt="Снимок экрана 2024-11-07 в 19 49 01" src="screenshots/Снимок экрана 2024-11-07 в 19.49.01.png">

Создаем базовый конфиг файл, затем папку inventory и в ней файл с хостами 
<img width="762" alt="Снимок экрана 2024-11-07 в 19 51 05" src="screenshots/Снимок экрана 2024-11-07 в 19.51.05.png">

Проверяем, что сервер с Ansible подключился к “клиенту”
<img width="765" alt="Снимок экрана 2024-11-07 в 19 51 52" src="screenshots/Снимок экрана 2024-11-07 в 19.51.52.png">

Создаем текстовый файл с производным содержимым, через модуль shell
<img width="1175" alt="Снимок экрана 2024-11-07 в 19 53 08" src="screenshots/Снимок экрана 2024-11-07 в 19.53.08.png">

Удаляем файл через модуль file
<img width="1109" alt="Снимок экрана 2024-11-07 в 19 53 45" src="screenshots/Снимок экрана 2024-11-07 в 19.53.45.png">

Создадим в рабочей директории папку roles и в ней инициализируем исходное конфигурационное дерево: ansible-galaxy init caddy_deploy
<img width="841" alt="Снимок экрана 2024-11-07 в 19 56 55" src="screenshots/Снимок экрана 2024-11-07 в 19.56.55.png">

 В рабочей директории создаем файл конфигурации самого плейбука, где указываем нужные нам хосты и роли
<img width="816" alt="Снимок экрана 2024-11-07 в 19 59 54" src="screenshots/Снимок экрана 2024-11-07 в 19.59.54.png">

Запускаем плейбук
<img width="1250" alt="Снимок экрана 2024-11-07 в 20 02 52" src="screenshots/Снимок экрана 2024-11-07 в 20.02.52.png">

Создадим шаблон (Jinja2), добавляем плейбук новые шаги, отвечающие за создание конфигурационного файла из шаблона и последующую перезагрузку сервиса. 
Проверяем, что страничка Caddy автоматически поднялась на подписанном сертификате с https
<img width="916" alt="Снимок экрана 2024-11-07 в 20 10 35" src="screenshots/Снимок экрана 2024-11-07 в 20.10.35.png">
<img width="1250" alt="Снимок экрана 2024-11-07 в 20 19 18" src="screenshots/Снимок экрана 2024-11-07 в 20.19.18.png">
<img width="1151" alt="Снимок экрана 2024-11-07 в 20 26 14" src="screenshots/Снимок экрана 2024-11-07 в 20.26.14.png">
<img width="1148" alt="Снимок экрана 2024-11-07 в 20 32 33" src="screenshots/Снимок экрана 2024-11-07 в 20.32.33.png">


Задание №1
<img width="556" alt="Снимок экрана 2024-11-07 в 20 56 03" src="screenshots/Снимок экрана 2024-11-07 в 20.56.03.png">
<img width="1252" alt="Снимок экрана 2024-11-07 в 20 56 43" src="screenshots/Снимок экрана 2024-11-07 в 20.56.43.png">

Задание №2
<img width="841" alt="Снимок экрана 2024-11-07 в 21 14 40" src="screenshots/Снимок экрана 2024-11-07 в 21.14.40.png">
<img width="484" alt="Снимок экрана 2024-11-07 в 21 14 49" src="screenshots/Снимок экрана 2024-11-07 в 21.14.49.png">

Ура, все работает
<img width="497" alt="Снимок экрана 2024-11-07 в 21 15 20" src="screenshots/Снимок экрана 2024-11-07 в 21.15.20.png">
